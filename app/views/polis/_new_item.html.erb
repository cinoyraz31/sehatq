<% idx = idx.present? ? idx : 0 %>
<% addClass = (idx == 0) ? 'field-copy' : nil %>
<% removeClass = (idx == 0) ? nil : 'prm-trash close-btn removed' %>
<% object = object.present? ? object : [] %>

<div class="<%= addClass %> item margin-bottom-2">
    <div class="float-right">
		<span class="disblock border-delete icon-removed <%= removeClass %>"></span>
	</div>
    <div class="padding-4 border-full">
        <div class="content-input">
            <label for="" class="content-label">Rumah Sakit</label>
			<div class="select-group-wrapper">
                <%= 
					render('partial/json_field_item', {
						'field_name': :hospital_id,
						'model_name': 'poly[]',
						'is_select': {
							'empty': 'Pilih Rumah Sakit',
							'options': @hospitals,
						},
						'object': object,
						'errors': object.present? ? object['errors'] : []
					})
				%>
            </div>
        </div>
        <div class="content-input">
            <label for="" class="content-label">Nama Poli</label>
            <%= 
                render('partial/json_field_item', {
                    'field_name': :title,
                    'model_name': 'poly[]',
                    'type': 'text',
                    'object': object,
                    'errors': object.present? ? object['errors'] : []
                })
            %>
        </div>
        <div class="content-input">
            <label for="" class="content-label">Keterangan</label>
            <%= 
                render('partial/json_field_item', {
                    'field_name': :description,
                    'model_name': 'poly[]',
                    'type': 'textarea',
                    'object': object,
                    'errors': object.present? ? object['errors'] : []
                })
            %>
        </div>
    </div>
</div>